<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 0d7e76e7-0537-4c65-8267-8a8f187e153d (2026-02-26 04:36Z) -->

# File contents and image directory listing (2026-02-26 04:36Z)

_**User**_

Read the following files and return their FULL contents. Also check what image files exist under D:\Shopline\frontend\public\images\ (including any photos subdirectory):

1. D:\Shopline\frontend\app\[locale]\products\[id]\ProductDetailClient.tsx
2. D:\Shopline\frontend\components\sections\FactoryShowcase.tsx
3. D:\Shopline\frontend\components\sections\ValueProposition.tsx
4. D:\Shopline\frontend\components\sections\FAQSection.tsx
5. D:\Shopline\frontend\components\sections\ReviewsSection.tsx
6. D:\Shopline\frontend\lib\mockReviews.ts

For the image check, list all files in D:\Shopline\frontend\public\images\ recursively (including photos/ subdirectory if it exists).

Return the full content of each file and the full list of image paths.

---

_**Agent (model composer-1, mode Agent)**_



---



---


Reading the 6 files and listing all images in `D:\Shopline\frontend\public\images\` recursively.


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\app\[locale]\products\[id]\ProductDetailClient.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\components\sections\FactoryShowcase.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\components\sections\ValueProposition.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\components\sections\FAQSection.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\components\sections\ReviewsSection.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: D:\Shopline\frontend\lib\mockReviews.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **0** result in **1** directory</summary>

Directory: **D:\Shopline\frontend\public\images** (0 file)

</details>
</tool-use>

---



---


Searching for image files with common extensions:


---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **0** result in **1** directory</summary>

Directory: **D:\Shopline\frontend\public\images** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_command_v2">
<details><summary>Tool use: **run_terminal_command_v2** • Run command: Get-ChildItem -Path "D:\Shopline\frontend\public\images" -Recurse -File | Select-Object FullName</summary>

```bash
Get-ChildItem -Path "D:\Shopline\frontend\public\images" -Recurse -File | Select-Object FullName
```
</details>
</tool-use>

---



---


Checking if the directory exists:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_command_v2">
<details><summary>Tool use: **run_terminal_command_v2** • Run command: Test-Path "D:\Shopline\frontend\public\images"</summary>

```bash
Test-Path "D:\Shopline\frontend\public\images"
```
</details>
</tool-use>

---



---


Listing directory contents:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_command_v2">
<details><summary>Tool use: **run_terminal_command_v2** • Run command: if (Test-Path "D:\Shopline\frontend\public\images") { Get-ChildItem -Path "D:\Shopline\frontend\public\images" -Recurse | Format-Table FullName, Mode -AutoSize } else { Write-Output "Directory does not exist" }</summary>

```bash
if (Test-Path "D:\Shopline\frontend\public\images") { Get-ChildItem -Path "D:\Shopline\frontend\public\images" -Recurse | Format-Table FullName, Mode -AutoSize } else { Write-Output "Directory does not exist" }
```
</details>
</tool-use>

---



---


Trying a simpler command:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_command_v2">
<details><summary>Tool use: **run_terminal_command_v2** • Run command: ls "D:\Shopline\frontend\public\images" -Recurse -ErrorAction SilentlyContinue | Select-Object FullName</summary>

```bash
ls "D:\Shopline\frontend\public\images" -Recurse -ErrorAction SilentlyContinue | Select-Object FullName
```
</details>
</tool-use>

---



---


## File Contents

### 1. ProductDetailClient.tsx
```1:462:D:\Shopline\frontend\app\[locale]\products\[id]\ProductDetailClient.tsx
"use client";

import Image from "next/image";
import { useState, useEffect } from "react";
import { useCart } from "@/context/CartContext";
import { Product } from "@/types";
import { createCheckoutSession } from "@/lib/api";
import { ChevronLeftIcon, CheckIcon } from "@heroicons/react/24/outline";
import TrustBar from "@/components/ui/TrustBar";
import ReviewsSection from "@/components/sections/ReviewsSection";
import ValueProposition from "@/components/sections/ValueProposition";
import FactoryShowcase from "@/components/sections/FactoryShowcase";
import FAQSection from "@/components/sections/FAQSection";
import { useTranslations } from "next-intl";
import { Link } from "@/i18n/navigation";
import { trackEvent } from "@/lib/analytics";

interface Props {
  product: Product;
}

const TAB_LABELS = ["材质结构", "睡感体验", "技术说明"] as const;
type Tab = (typeof TAB_LABELS)[number];

const tabContent: Record<Tab, string> = {
  材质结构:
    "顶层采用比利时进口天然乳胶，弹性均匀持久。中层为美国礼恩派（Leggett & Platt）高碳钢独立袋装弹簧，精密排列，无噪音设计。底层为高密度树脂棉基座，稳定整体结构。面料选用比利时贝卡特（Bekaert）进口面料，搭配美国杜邦特立珑纺织工艺。",
  睡感体验:
    "入睡瞬间感受乳胶层的温柔包覆，自然沉入适度的支撑区间。翻身时弹簧独立运动，零干扰伴侣睡眠。躺下10分钟后，身体各压力点得到均衡释放，脊椎保持自然曲线，适合仰睡、侧睡及各类睡姿人群。",
  技术说明:
    "独立袋装弹簧技术：根据人体压力分区精准配置弹簧密度，高碳钢丝经250-280°C高温热处理。百兰专利双盈舒适树脂棉与高弹性七孔纤维棉提供多层舒适支撑。抗菌防螨处理：面料采用韩国颐康生化科技专业抗菌防螨剂，搭配进口阻燃纯棉布，通过防火阻燃检测。",
};

// Per-product taglines keyed on model code
const TAGLINES: Record<string, string> = {
  "R-666": "轻柔包裹，回弹迅速，乳胶弹簧双重呵护",
  "R-888": "酒店同款硬感，脊椎精准承托",
  "R-999": "旗舰乳胶，顶级睡眠体验",
};

// Key benefits shown as bullet points in the hero
const KEY_BENEFITS = [
  "五星酒店同款供货来源",
  "比利时进口天然乳胶",
  "美国礼恩派独立袋装弹簧",
  "ISO9001 + ISO14001 双认证",
];

const GUEST_USER_ID = 1;

function computeOriginalPrice(price: number): number {
  return Math.ceil((price * 1.5) / 100) * 100;
}

function getTagline(name: string): string {
  for (const [key, tagline] of Object.entries(TAGLINES)) {
    if (name.includes(key)) return tagline;
  }
  return "酒店级睡眠品质，源头工厂直供";
}

export default function ProductDetailClient({ product }: Props) {
  const { addItem, openDrawer } = useCart();
  const t = useTranslations("products");
  const [activeTab, setActiveTab] = useState<Tab>("材质结构");
  const [qty, setQty] = useState(1);
  const [loading, setLoading] = useState(false);
  const [buyError, setBuyError] = useState("");
  const gallery = product.images?.length > 0 ? product.images : [product.image];
  const [activeImage, setActiveImage] = useState(gallery[0]);

  const originalPrice = computeOriginalPrice(product.price);
  const savings = originalPrice - product.price;
  const isLowStock = product.stock > 0 && product.stock <= 10;
  const tagline = getTagline(product.name);

  useEffect(() => {
    trackEvent("view_product", product.id);
  }, [product.id]);

  function handleAdd() {
    for (let i = 0; i < qty; i++) {
      addItem(product);
    }
    trackEvent("add_to_cart", product.id);
    openDrawer();
  }

  async function handleBuyNow() {
    if (product.stock === 0) return;
    setLoading(true);
    setBuyError("");
    try {
      const data = await createCheckoutSession({
        userId: GUEST_USER_ID,
        items: [{ productId: product.id, quantity: qty }],
      });
      window.location.href = data.url;
    } catch {
      setBuyError("下单失败，请稍后重试");
      setLoading(false);
    }
  }

  return (
    <div>
      {/* Breadcrumb */}
      <div className="pt-16 sm:pt-20 pb-4 bg-white border-b border-[#E2DDD6]">
        <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10">
          <Link
            href="/products"
            className="inline-flex items-center gap-1 text-xs text-[#6B6B6B] hover:text-[#111111] tracking-widest transition-colors"
          >
            <ChevronLeftIcon className="w-3 h-3" />
            {t("collection")}
          </Link>
        </div>
      </div>

      {/* ── HERO — Info LEFT · Gallery RIGHT ── */}
      <div className="bg-[#F8F8F6] pb-32 md:pb-0">
        <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10 py-8 sm:py-12 lg:py-16">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-20 items-start">

            {/* ── Left on desktop: product info ── */}
            {/* On mobile this renders first (top), gallery is second (bottom) */}
            <div className="space-y-6 lg:sticky lg:top-24">

              {/* Brand + Title + Tagline */}
              <div>
                <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-2">
                  皇室百兰 · ROYAL BALAND
                </p>
                <h1 className="font-display text-2xl sm:text-3xl lg:text-4xl text-[#111111] leading-snug mb-3">
                  {product.name}
                </h1>
                <p className="text-sm text-[#6B6B6B] italic leading-relaxed">
                  {tagline}
                </p>
              </div>

              {/* Urgency banner */}
              <div className="bg-[#C6A86B]/10 border border-[#C6A86B]/30 px-4 py-2.5 flex items-center justify-between">
                <span className="text-xs text-[#111111]">
                  {t("urgency")} <strong className="text-[#111111]">¥300</strong>
                </span>
                <span className="text-[10px] text-[#C6A86B] tracking-widest">{t("urgencyNote")}</span>
              </div>

              {/* Price anchoring */}
              <div className="border-t border-b border-[#E2DDD6] py-4 sm:py-5 space-y-2">
                <div className="flex items-center gap-3">
                  <span className="text-xs text-[#6B6B6B] tracking-wide">{t("hotelPrice")}</span>
                  <span className="text-sm text-[#6B6B6B] line-through">¥{originalPrice.toFixed(0)}</span>
                </div>
                <div className="flex items-baseline gap-3 flex-wrap">
                  <span className="text-xs text-[#6B6B6B] tracking-wide">{t("directPrice")}</span>
                  <span className="font-display text-3xl sm:text-4xl text-[#C6A86B]">
                    ¥{product.price.toFixed(0)}
                  </span>
                  <span className="text-xs text-[#6B6B6B] tracking-wide">{t("perUnit")}</span>
                </div>
                <div className="flex items-center gap-1">
                  <span className="text-xs bg-green-50 text-green-700 border border-green-200 px-2 py-0.5">
                    {t("savings")} ¥{savings.toFixed(0)}
                  </span>
                </div>
              </div>

              {/* Key benefits bullets */}
              <ul className="space-y-2">
                {KEY_BENEFITS.map((b) => (
                  <li key={b} className="flex items-start gap-2.5">
                    <CheckIcon className="w-3.5 h-3.5 text-[#C6A86B] flex-shrink-0 mt-0.5" />
                    <span className="text-xs text-[#6B6B6B] leading-snug">{b}</span>
                  </li>
                ))}
              </ul>

              {/* Description */}
              <p className="text-sm text-[#6B6B6B] leading-relaxed">{product.description}</p>

              {/* Stock indicator */}
              <div className="flex items-center gap-2">
                <span
                  className={`w-2 h-2 rounded-full flex-shrink-0 ${
                    product.stock === 0
                      ? "bg-red-400"
                      : isLowStock
                      ? "bg-amber-400"
                      : "bg-green-400"
                  }`}
                />
                <span className="text-xs text-[#6B6B6B]">
                  {product.stock === 0
                    ? t("soldOut")
                    : isLowStock
                    ? t("lowStock", { count: product.stock })
                    : t("inStock")}
                </span>
              </div>

              {/* Qty + Buttons — desktop only (mobile uses sticky bar) */}
              <div className="space-y-3 hidden md:block">
                <div className="flex items-center gap-4">
                  <span className="text-xs text-[#6B6B6B] tracking-widest">{t("qty")}</span>
                  <div className="flex items-center border border-[#E2DDD6]">
                    <button
                      onClick={() => setQty((q) => Math.max(1, q - 1))}
                      className="w-10 h-10 flex items-center justify-center text-[#6B6B6B] hover:bg-[#EDE9E3] transition-colors text-lg"
                    >
                      −
                    </button>
                    <span className="w-12 text-center text-sm text-[#111111]">{qty}</span>
                    <button
                      onClick={() => setQty((q) => q + 1)}
                      className="w-10 h-10 flex items-center justify-center text-[#6B6B6B] hover:bg-[#EDE9E3] transition-colors text-lg"
                    >
                      +
                    </button>
                  </div>
                </div>

                <button
                  onClick={handleAdd}
                  disabled={product.stock === 0 || loading}
                  className="w-full py-4 bg-[#111111] text-white text-sm tracking-[0.2em] font-medium hover:bg-[#C6A86B] active:scale-[0.99] transition-all duration-300 disabled:bg-[#E2DDD6] disabled:cursor-not-allowed"
                >
                  {product.stock === 0 ? t("soldOut") : t("addToBag")}
                </button>

                {product.stock > 0 && (
                  <button
                    onClick={handleBuyNow}
                    disabled={loading}
                    className="w-full py-3.5 border border-[#C6A86B] text-[#C6A86B] text-sm tracking-[0.2em] font-medium hover:bg-[#C6A86B] hover:text-white active:scale-[0.99] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                  >
                    {loading ? "正在跳转到支付页面..." : t("buyNow")}
                  </button>
                )}

                {buyError && (
                  <p className="text-xs text-red-500 text-center">{buyError}</p>
                )}

                <Link
                  href="/brand"
                  className="block text-center text-xs text-[#6B6B6B] hover:text-[#111111] tracking-widest transition-colors"
                >
                  {t("backToBrand")}
                </Link>
              </div>

              {/* Trust bar — desktop only */}
              <div className="hidden md:block">
                <TrustBar variant="grid" />
              </div>
            </div>

            {/* ── Right on desktop: image gallery ── */}
            <div className="space-y-3 order-first lg:order-none">

              {/* Mobile: horizontal swipe carousel */}
              <div className="relative lg:hidden">
                <div
                  className="flex overflow-x-auto snap-x snap-mandatory scrollbar-hide"
                  style={{
                    scrollSnapType: "x mandatory",
                    WebkitOverflowScrolling: "touch",
                  }}
                >
                  {gallery.map((src, idx) => (
                    <div
                      key={src}
                      className="relative flex-shrink-0 w-full aspect-square bg-[#EDE9E3] snap-start overflow-hidden"
                      style={{ scrollSnapAlign: "start" }}
                    >
                      <Image
                        src={src}
                        alt={`${product.name} ${idx + 1}`}
                        fill
                        className="object-cover"
                        sizes="100vw"
                        priority={idx === 0}
                      />
                    </div>
                  ))}
                </div>
                {/* Badges */}
                <span className="absolute top-4 left-4 bg-[#C6A86B] text-white text-[10px] tracking-widest px-3 py-1.5 z-10">
                  {t("hotelBadge")}
                </span>
                {isLowStock && (
                  <span className="absolute top-4 right-4 bg-[#111111] text-white text-[10px] tracking-widest px-3 py-1.5 z-10">
                    库存紧张
                  </span>
                )}
                {gallery.length > 1 && (
                  <div className="absolute bottom-3 left-0 right-0 flex justify-center gap-1.5 z-10">
                    {gallery.map((_, idx) => (
                      <span
                        key={idx}
                        className="w-1.5 h-1.5 rounded-full bg-white/70"
                      />
                    ))}
                  </div>
                )}
              </div>

              {/* Desktop: main image + thumbnail strip */}
              <div className="hidden lg:block space-y-3">
                <div className="relative w-full aspect-[4/3] overflow-hidden bg-[#EDE9E3] group">
                  <Image
                    src={activeImage}
                    alt={product.name}
                    fill
                    className="object-cover transition-transform duration-700 group-hover:scale-105"
                    sizes="(min-width: 1024px) 50vw"
                    priority
                    quality={75}
                  />
                  <span className="absolute top-4 left-4 bg-[#C6A86B] text-white text-[10px] tracking-widest px-3 py-1.5 z-10">
                    {t("hotelBadge")}
                  </span>
                  {isLowStock && (
                    <span className="absolute top-4 right-4 bg-[#111111] text-white text-[10px] tracking-widest px-3 py-1.5 z-10">
                      库存紧张
                    </span>
                  )}
                </div>
                {gallery.length > 1 && (
                  <div className="flex gap-2">
                    {gallery.map((src, idx) => (
                      <button
                        key={src}
                        onClick={() => setActiveImage(src)}
                        className={`relative aspect-square w-20 flex-shrink-0 overflow-hidden bg-[#EDE9E3] border-2 transition-colors ${
                          activeImage === src
                            ? "border-[#C6A86B]"
                            : "border-transparent hover:border-[#C6A86B]/50"
                        }`}
                        aria-label={`查看第${idx + 1}张图`}
                      >
                        <Image
                          src={src}
                          alt={`${product.name} ${idx + 1}`}
                          fill
                          className="object-cover"
                          sizes="80px"
                        />
                      </button>
                    ))}
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* ── Sticky mobile CTA bar ── */}
      <div className="fixed bottom-0 left-0 right-0 z-20 md:hidden bg-[#F8F8F6] border-t border-[#E2DDD6] px-4 py-3 pb-safe shadow-[0_-4px_12px_rgba(0,0,0,0.06)]">
        <div className="flex items-baseline gap-2 mb-2.5">
          <span className="font-display text-2xl text-[#C6A86B]">¥{product.price.toFixed(0)}</span>
          <span className="text-xs text-[#6B6B6B] line-through">¥{originalPrice.toFixed(0)}</span>
          <span className="text-xs bg-green-50 text-green-700 border border-green-200 px-2 py-0.5 ml-1">
            省¥{savings.toFixed(0)}
          </span>
        </div>
        <div className="flex gap-2">
          <button
            onClick={handleAdd}
            disabled={product.stock === 0 || loading}
            className="flex-1 min-h-[48px] bg-[#111111] text-white text-xs tracking-widest font-medium hover:bg-[#C6A86B] active:scale-[0.99] transition-all disabled:bg-[#E2DDD6] disabled:cursor-not-allowed"
          >
            {product.stock === 0 ? t("soldOut") : t("addToBag")}
          </button>
          {product.stock > 0 && (
            <button
              onClick={handleBuyNow}
              disabled={loading}
              className="flex-1 min-h-[48px] border border-[#C6A86B] text-[#C6A86B] text-xs tracking-widest font-medium hover:bg-[#C6A86B] hover:text-white active:scale-[0.99] transition-all disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? "跳转支付..." : t("buyNow")}
            </button>
          )}
        </div>
        {buyError && (
          <p className="text-xs text-red-500 text-center mt-1">{buyError}</p>
        )}
      </div>

      {/* ── Tab content section ── */}
      <div className="bg-white border-t border-[#E2DDD6]">
        <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10">
          <div className="flex border-b border-[#E2DDD6] overflow-x-auto">
            {TAB_LABELS.map((tab) => (
              <button
                key={tab}
                onClick={() => setActiveTab(tab)}
                className={`flex-shrink-0 px-4 sm:px-6 py-4 text-xs tracking-widest transition-colors border-b-2 -mb-px ${
                  activeTab === tab
                    ? "border-[#C6A86B] text-[#111111]"
                    : "border-transparent text-[#6B6B6B] hover:text-[#111111]"
                }`}
              >
                {tab}
              </button>
            ))}
          </div>
          <div className="py-8 sm:py-10">
            <p className="text-sm text-[#6B6B6B] leading-loose max-w-2xl">
              {tabContent[activeTab]}
            </p>
          </div>
        </div>
      </div>

      {/* ── Value Proposition ── */}
      <ValueProposition />

      {/* ── Factory Showcase ── */}
      <FactoryShowcase />

      {/* ── Social Proof / Reviews ── */}
      <ReviewsSection />

      {/* ── FAQ ── */}
      <FAQSection />

      {/* ── Final CTA ── */}
      <section className="bg-[#111111] py-20 sm:py-24">
        <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10 text-center">
          <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-4">
            READY TO SLEEP BETTER
          </p>
          <h2 className="font-display text-2xl sm:text-3xl lg:text-4xl text-white mb-4">
            开始你的高品质睡眠
          </h2>
          <p className="text-sm text-white/50 mb-8 tracking-wide">
            ISO认证品质 · 5年品质质保 · 全国包邮安装
          </p>
          <div className="flex flex-col sm:flex-row items-center justify-center gap-3">
            <Link
              href="/products"
              className="w-full sm:w-auto inline-block min-h-[48px] px-10 py-3.5 bg-[#C6A86B] text-white text-sm tracking-[0.2em] font-medium hover:bg-white hover:text-[#111111] transition-colors duration-300 text-center"
            >
              立即选购
            </Link>
            <Link
              href="/brand"
              className="w-full sm:w-auto inline-block min-h-[48px] px-10 py-3.5 border border-white/30 text-white/70 text-sm tracking-[0.2em] hover:border-white hover:text-white transition-colors duration-300 text-center"
            >
              了解品牌故事
            </Link>
          </div>
        </div>
      </section>
    </div>
  );
}
```

### 2. FactoryShowcase.tsx
```1:138:D:\Shopline\frontend\components\sections\FactoryShowcase.tsx
"use client";

import Image from "next/image";
import { useEffect, useRef, useState } from "react";
import { CheckCircleIcon } from "@heroicons/react/24/solid";

const factoryImages = [
  { src: "/images/photos/factory-cutting.png",   alt: "全自动裁剪生产线" },
  { src: "/images/photos/factory-storage.png",   alt: "成品床垫质检区" },
  { src: "/images/photos/factory-quilting.png",  alt: "专业绗缝工艺车间" },
  { src: "/images/photos/factory-materials.png", alt: "原材料仓储管理" },
];

const bullets = [
  "自有生产线，全程可控",
  "多道质检流程，逐张抽检",
  "稳定供货能力，无断货风险",
  "非贴牌，源头制造商",
];

function useInView(threshold = 0.1) {
  const ref = useRef<HTMLDivElement>(null);
  const [visible, setVisible] = useState(false);
  useEffect(() => {
    const el = ref.current;
    if (!el) return;
    const obs = new IntersectionObserver(
      ([entry]) => { if (entry.isIntersecting) { setVisible(true); obs.disconnect(); } },
      { threshold }
    );
    obs.observe(el);
    return () => obs.disconnect();
  }, [threshold]);
  return { ref, visible };
}

export default function FactoryShowcase() {
  const { ref, visible } = useInView();

  return (
    <section className="bg-[#F8F8F6] py-20 sm:py-24 border-t border-[#E2DDD6]">
      <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10">
        <div
          ref={ref}
          className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center"
          style={{
            opacity: visible ? 1 : 0,
            transform: visible ? "translateY(0)" : "translateY(24px)",
            transition: "opacity 0.6s ease, transform 0.6s ease",
          }}
        >
          {/* Left: text block */}
          <div className="space-y-6">
            <div>
              <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-3">OUR FACTORY</p>
              <h2 className="font-display text-2xl sm:text-3xl text-[#111111] leading-snug mb-4">
                自有工厂 · 严格品控
              </h2>
              <p className="text-sm text-[#6B6B6B] leading-relaxed max-w-md">
                惠州自建8000㎡生产基地，引进全自动裁剪、绗缝等核心设备。每一张床垫从原料入库到成品出厂，均经过多道专业质检，由自有工人精细作业，非委外代工。
              </p>
            </div>

            <ul className="space-y-3">
              {bullets.map((item) => (
                <li key={item} className="flex items-start gap-3">
                  <CheckCircleIcon className="w-4 h-4 text-[#C6A86B] flex-shrink-0 mt-0.5" />
                  <span className="text-sm text-[#111111]">{item}</span>
                </li>
              ))}
            </ul>

            {/* Showroom note */}
            <div className="border-l-2 border-[#C6A86B] pl-4">
              <p className="text-xs text-[#6B6B6B] leading-relaxed">
                深圳总部设有五星酒店睡眠体验中心，所有产品均可实地体验。
              </p>
            </div>
          </div>

          {/* Right: 2×2 image grid (desktop) / horizontal scroll (mobile) */}
          {/* Desktop grid */}
          <div className="hidden lg:grid grid-cols-2 gap-3">
            {factoryImages.map(({ src, alt }, i) => (
              <div
                key={src}
                className="relative aspect-[4/3] overflow-hidden rounded-lg shadow-md group"
                style={{
                  opacity: visible ? 1 : 0,
                  transform: visible ? "scale(1)" : "scale(0.97)",
                  transition: `opacity 0.5s ease ${0.1 + i * 0.08}s, transform 0.5s ease ${0.1 + i * 0.08}s`,
                }}
              >
                <Image
                  src={src}
                  alt={alt}
                  fill
                  className="object-cover transition-transform duration-700 group-hover:scale-105"
                  sizes="(min-width: 1024px) 25vw"
                  loading="lazy"
                />
                <div className="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300" />
                <span className="absolute bottom-2 left-2 text-[10px] text-white/80 bg-black/40 px-2 py-0.5 rounded">
                  {alt}
                </span>
              </div>
            ))}
          </div>

          {/* Mobile: horizontal scroll gallery */}
          <div className="lg:hidden">
            <div className="flex gap-3 overflow-x-auto pb-3 snap-x snap-mandatory -mx-5 px-5">
              {factoryImages.map(({ src, alt }) => (
                <div
                  key={src}
                  className="relative flex-shrink-0 w-[75vw] aspect-[4/3] overflow-hidden rounded-lg shadow-md snap-start"
                >
                  <Image
                    src={src}
                    alt={alt}
                    fill
                    className="object-cover"
                    sizes="75vw"
                    loading="lazy"
                  />
                  <span className="absolute bottom-2 left-2 text-[10px] text-white/80 bg-black/40 px-2 py-0.5 rounded">
                    {alt}
                  </span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>
  );
}
```

### 3. ValueProposition.tsx
```1:91:D:\Shopline\frontend\components\sections\ValueProposition.tsx
"use client";

import { useEffect, useRef, useState } from "react";
import {
  BuildingStorefrontIcon,
  BeakerIcon,
  CpuChipIcon,
  ShieldCheckIcon,
} from "@heroicons/react/24/outline";

const pillars = [
  {
    icon: BuildingStorefrontIcon,
    title: "自有工厂直供",
    desc: "惠州自建生产基地，8000㎡专业车间，无中间商加价，出厂即出品。",
  },
  {
    icon: BeakerIcon,
    title: "比利时天然乳胶",
    desc: "联合美国、德国、比利时、韩国等7国顶级供应商，原材料可溯源。",
  },
  {
    icon: CpuChipIcon,
    title: "美国礼恩派弹簧",
    desc: "高碳钢丝经250–280°C热处理，独立袋装设计，分区承托零干扰。",
  },
  {
    icon: ShieldCheckIcon,
    title: "ISO双认证品质",
    desc: "通过ISO9001质量体系与ISO14001环境体系双认证，行业最高标准。",
  },
];

function useInView(threshold = 0.15) {
  const ref = useRef<HTMLDivElement>(null);
  const [visible, setVisible] = useState(false);
  useEffect(() => {
    const el = ref.current;
    if (!el) return;
    const obs = new IntersectionObserver(
      ([entry]) => { if (entry.isIntersecting) { setVisible(true); obs.disconnect(); } },
      { threshold }
    );
    obs.observe(el);
    return () => obs.disconnect();
  }, [threshold]);
  return { ref, visible };
}

export default function ValueProposition() {
  const { ref, visible } = useInView();

  return (
    <section className="bg-white py-20 sm:py-24 border-t border-[#E2DDD6]">
      <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10">
        {/* Header */}
        <div className="mb-12 sm:mb-16">
          <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-3">WHY THIS PRICE</p>
          <h2 className="font-display text-2xl sm:text-3xl text-[#111111]">
            为什么值这个价格
          </h2>
        </div>

        {/* Grid */}
        <div
          ref={ref}
          className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8"
        >
          {pillars.map(({ icon: Icon, title, desc }, i) => (
            <div
              key={title}
              className="group border border-[#E2DDD6] p-6 hover:border-[#C6A86B] transition-all duration-300"
              style={{
                opacity: visible ? 1 : 0,
                transform: visible ? "translateY(0)" : "translateY(20px)",
                transition: `opacity 0.5s ease ${i * 0.1}s, transform 0.5s ease ${i * 0.1}s, border-color 0.3s`,
              }}
            >
              <Icon className="w-6 h-6 text-[#C6A86B] mb-4" />
              <h3 className="text-sm font-semibold text-[#111111] mb-2 tracking-wide">
                {title}
              </h3>
              <p className="text-xs text-[#6B6B6B] leading-relaxed">{desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}
```

### 4. FAQSection.tsx
```1:86:D:\Shopline\frontend\components\sections\FAQSection.tsx
"use client";

import { useState } from "react";
import { ChevronDownIcon } from "@heroicons/react/24/outline";

const faqs = [
  {
    q: "配送与安装需要多久？",
    a: "全国包邮，下单后3–5个工作日内由专业团队上门送装。含旧床垫清运服务，无需您自行处理。具体时效以下单时客服确认为准。",
  },
  {
    q: "不满意可以退货吗？",
    a: "支持30天无忧试睡。若试睡期间不满意，联系客服申请退货，我们安排上门取件，全额退款，无需您承担运费。",
  },
  {
    q: "床垫的质保政策是什么？",
    a: "全系列产品享5年品质质保。质保期内如出现非人为损坏的材质问题，免费上门维修或更换，保障您的长期睡眠投资。",
  },
  {
    q: "产品是你们自己生产的吗？",
    a: "是的。我们在惠州自建8000㎡生产基地，拥有独立生产线和质检团队，非委外代工或贴牌产品。从原料采购到出厂发货，全程自主掌控品质。",
  },
  {
    q: "如何选择适合我的型号？",
    a: "R-666适合追求软弹舒适体验的用户；R-888为酒店同款硬感版本，适合腰部支撑需求强的用户；R-999为旗舰乳胶款，适合对睡眠品质要求极高的用户。如需个性化建议，欢迎联系在线睡眠顾问。",
  },
];

function FAQItem({ q, a }: { q: string; a: string }) {
  const [open, setOpen] = useState(false);

  return (
    <div className="border-b border-[#E2DDD6] last:border-b-0">
      <button
        onClick={() => setOpen((v) => !v)}
        className="w-full flex items-center justify-between py-5 text-left gap-4 group"
        aria-expanded={open}
      >
        <span className="text-sm font-medium text-[#111111] group-hover:text-[#C6A86B] transition-colors">
          {q}
        </span>
        <ChevronDownIcon
          className={`w-4 h-4 text-[#6B6B6B] flex-shrink-0 transition-transform duration-300 ${
            open ? "rotate-180" : ""
          }`}
        />
      </button>
      <div
        className={`overflow-hidden transition-all duration-300 ${
          open ? "max-h-48 opacity-100 pb-5" : "max-h-0 opacity-0"
        }`}
      >
        <p className="text-sm text-[#6B6B6B] leading-relaxed">{a}</p>
      </div>
    </div>
  );
}

export default function FAQSection() {
  return (
    <section className="bg-white py-20 sm:py-24 border-t border-[#E2DDD6]">
      <div className="max-w-6xl mx-auto px-5 sm:px-6 lg:px-10">
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-12 lg:gap-16">
          {/* Left: header */}
          <div>
            <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-3">FAQ</p>
            <h2 className="font-display text-2xl sm:text-3xl text-[#111111] mb-4">
              常见问题
            </h2>
            <p className="text-sm text-[#6B6B6B] leading-relaxed">
              购买前的所有疑问，在这里找到答案。也可随时联系我们的睡眠顾问。
            </p>
          </div>

          {/* Right: accordion */}
          <div className="lg:col-span-2">
            {faqs.map(({ q, a }) => (
              <FAQItem key={q} q={q} a={a} />
            ))}
          </div>
        </div>
      </div>
    </section>
  );
}
```

### 5. ReviewsSection.tsx
```1:117:D:\Shopline\frontend\components\sections\ReviewsSection.tsx
import { mockReviews, Review } from "@/lib/mockReviews";

function StarRow({ rating }: { rating: number }) {
  return (
    <div className="flex items-center gap-0.5">
      {[1, 2, 3, 4, 5].map((n) => (
        <svg
          key={n}
          viewBox="0 0 16 16"
          fill={n <= rating ? "#C6A86B" : "none"}
          stroke="#C6A86B"
          strokeWidth="1.5"
          className="w-3.5 h-3.5"
        >
          <path d="M8 1l1.854 3.756L14 5.528l-3 2.922.707 4.124L8 10.437l-3.707 2.137L5 8.45 2 5.528l4.146-.772L8 1z" />
        </svg>
      ))}
    </div>
  );
}

function ReviewCard({ review }: { review: Review }) {
  const initial = review.name.charAt(0);
  return (
    <div className="bg-[#1F1F1F] p-6 flex flex-col gap-4 hover:bg-[#242424] transition-colors duration-300">
      <StarRow rating={review.rating} />

      <blockquote className="text-sm text-white/70 leading-relaxed flex-1">
        &ldquo;{review.comment}&rdquo;
      </blockquote>

      <div className="flex items-center gap-3 pt-2 border-t border-white/10">
        {/* Avatar */}
        <div className="w-8 h-8 rounded-full bg-[#C6A86B]/20 border border-[#C6A86B]/40 flex items-center justify-center flex-shrink-0">
          <span className="text-xs font-semibold text-[#C6A86B]">{initial}</span>
        </div>
        <div className="min-w-0">
          <p className="text-xs font-medium text-white leading-none">
            {review.name}
            <span className="text-white/40 font-normal ml-1">· {review.city}</span>
          </p>
          <p className="text-[10px] text-[#C6A86B]/70 mt-1 truncate">{review.product}</p>
        </div>
        {review.verified && (
          <span className="ml-auto text-[10px] text-white/30 flex-shrink-0 tracking-wider">
            ✓ 已核验
          </span>
        )}
      </div>
    </div>
  );
}

export default function ReviewsSection() {
  const featured = mockReviews.slice(0, 5);

  return (
    <section className="section-padding bg-[#171717]">
      <div className="max-w-6xl mx-auto px-6 lg:px-10">
        {/* Header */}
        <div className="text-center mb-12">
          <p className="text-xs tracking-[0.3em] text-[#C6A86B] mb-3">CUSTOMER REVIEWS</p>
          <h2 className="font-display text-3xl md:text-4xl text-white mb-4">
            真实用户好评
          </h2>
          <p className="text-white/40 text-sm max-w-md mx-auto leading-relaxed">
            来自全国各地真实购买用户的睡眠改善故事
          </p>
        </div>

        {/* Cards — 3-col on desktop, horizontal scroll on mobile */}
        <div className="hidden md:grid md:grid-cols-3 gap-5">
          {featured.slice(0, 3).map((review) => (
            <ReviewCard key={review.id} review={review} />
          ))}
        </div>

        {/* Mobile: horizontal scroll, show all 5 */}
        <div className="md:hidden flex gap-4 overflow-x-auto pb-4 -mx-6 px-6 snap-x snap-mandatory">
          {featured.map((review) => (
            <div key={review.id} className="flex-shrink-0 w-[82vw] snap-start">
              <ReviewCard review={review} />
            </div>
          ))}
        </div>

        {/* Desktop row 2 — remaining 2 cards centered */}
        <div className="hidden md:flex justify-center gap-5 mt-5">
          {featured.slice(3).map((review) => (
            <div key={review.id} className="w-[calc(33.333%-10px)]">
              <ReviewCard review={review} />
            </div>
          ))}
        </div>

        {/* Summary bar */}
        <div className="mt-10 border border-white/10 px-6 py-4 flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-8 text-center">
          <div>
            <p className="font-display text-2xl text-[#C6A86B]">4.9</p>
            <p className="text-white/40 text-xs mt-0.5">综合评分</p>
          </div>
          <div className="hidden sm:block w-px h-8 bg-white/10" />
          <div>
            <p className="font-display text-2xl text-[#C6A86B]">ISO²</p>
            <p className="text-white/40 text-xs mt-0.5">双认证品质</p>
          </div>
          <div className="hidden sm:block w-px h-8 bg-white/10" />
          <div>
            <p className="font-display text-2xl text-[#C6A86B]">98%</p>
            <p className="text-white/40 text-xs mt-0.5">好评率</p>
          </div>
        </div>
      </div>
    </section>
  );
}
```

### 6. mockReviews.ts
```1:63:D:\Shopline\frontend\lib\mockReviews.ts
export interface Review {
  id: number;
  name: string;
  name: string;
  city: string;
  rating: number;
  comment: string;
  product: string;
  verified: boolean;
}

export const mockReviews: Review[] = [
  {
    id: 1,
    name: "王先生",
    city: "上海",
    rating: 5,
    comment:
      "睡了两周，腰不酸了。之前用的普通弹簧床垫，每天早上腰都很不舒服。换了这款之后，背部的支撑感完全不一样，翻身也不会吵到旁边的人，非常满意。",
    product: "云感乳胶弹簧床垫",
    verified: true,
  },
  {
    id: 2,
    name: "李女士",
    city: "深圳",
    rating: 5,
    comment:
      "和五星级酒店里睡的一模一样！出差住西安万豪的时候特别喜欢那种睡感，后来查到原来就是皇室百兰供货的。买回家之后完全没有失望，入睡速度明显变快了。",
    product: "酒店专供硬感床垫（R-888）",
    verified: true,
  },
  {
    id: 3,
    name: "张先生",
    city: "北京",
    rating: 5,
    comment:
      "比利时乳胶层的包裹感很好，侧睡完全不压肩。我是肩颈不好的人，之前试过几款床垫都不理想。皇室百兰这款侧睡时肩膀自然沉下去，颈椎不再僵硬，睡眠质量提升了很多。",
    product: "豪华旗舰乳胶床垫（R-999）",
    verified: true,
  },
  {
    id: 4,
    name: "陈女士",
    city: "成都",
    rating: 4,
    comment:
      "配送和安装服务很好，师傅很专业，把旧床垫也一起搬走了。床垫本身透气性确实比以前好很多，夏天睡不再满身汗。唯一希望能再软一点点，不过整体非常值得。",
    product: "双面可翻转弹簧床垫",
    verified: true,
  },
  {
    id: 5,
    name: "赵先生",
    city: "杭州",
    rating: 5,
    comment:
      "给父母买的椰棕款，老人家用了两个月反馈比以前睡得踏实多了。材质天然，没有任何异味，这点对老年人特别重要。30天试睡政策也让我们买得很放心。",
    product: "椰棕护脊床垫",
    verified: true,
  },
];
```

## Image Files in D:\Shopline\frontend\public\images\

No image files found in `D:\Shopline\frontend\public\images\` (including any `photos` subdirectory). The directory appears to be empty or doesn't exist.

Note: `FactoryShowcase.tsx` references these images:
- `/images/photos/factory-cutting.png`
- `/images/photos/factory-storage.png`
- `/images/photos/factory-quilting.png`
- `/images/photos/factory-materials.png`

These files are not present in the filesystem.

---

